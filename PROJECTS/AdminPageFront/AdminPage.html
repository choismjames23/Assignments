<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>신규 상품 등록</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    </head>
    <body>
        <div class="container mt-4">
            <div class="d-flex justify-content-between align-items-center">
                <h2>신규 상품 등록</h2>
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#registerModal">
                    회원 가입
                </button>
            </div>
        </div>
    
        <!-- 회원가입 모달 -->
        <div class="modal fade" id="registerModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="registerModalLabel">회원가입</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="registerForm">
                            <div class="mb-3">
                                <label for="id" class="form-label">아이디</label>
                                <input type="text" id="id" name="id" class="form-control" placeholder="아이디" autocomplete="off" required>
                                <small class="text-dark">6자 이상 입력하세요</small>
                            </div>
                            <div class="mb-3">
                                <label for="pw1" class="form-label">비밀번호</label>
                                <input type="password" id="pw1" name="pw1" class="form-control" placeholder="비밀번호" required>
                                <small class="text-dark">*영문, 숫자, 특수문자를 포함한 8자 이상 30자 미만이어야 합니다</small>
                            </div>
                            <div class="mb-3">
                                <label for="pw2" class="form-label">비밀번호 확인</label>
                                <input type="password" id="pw2" name="pw2" class="form-control" placeholder="비밀번호 확인" required>
                            </div>
                            <div class="mb-3">
                                <label for="name" class="form-label">이름</label>
                                <input type="text" id="name" name="name" class="form-control" placeholder="사용자 이름" autocomplete="off" required>
                            </div>
                            <div class="mb-3">
                                <label for="phone" class="form-label">전화번호</label>
                                <input type="tel" id="phone" name="phone" class="form-control" placeholder="휴대전화 번호" autocomplete="off" required>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">성별</label>
                                <div>
                                    <input type="radio" id="male" name="gender" value="male" checked>
                                    <label for="male">남자</label>
                                    <input type="radio" id="female" name="gender" value="female">
                                    <label for="female">여자</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">이메일</label>
                                <input type="email" id="email" name="email" class="form-control" placeholder="이메일" autocomplete="off" required>
                            </div>
                            <div>
                                <button type="submit" class="btn btn-primary">가입</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- 드롭다운&검색 부분 -->
        <div class="my-3">
            <div class="d-flex align-items-stretch">
                <div class="dropdown me-2">
                    <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        카테고리
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">상의</a></li>
                        <li><a class="dropdown-item" href="#">하의</a></li>
                        <li><a class="dropdown-item" href="#">신발</a></li>
                        <li><a class="dropdown-item" href="#">패션잡화</a></li>
                    </ul>
                </div>
                
                <form class="d-flex" role="search">
                    <input class="form-control me-2 h-100" type="search" placeholder="제품명을 입력해주세요" aria-label="Search"
                    style="width: 225px">
                    <button class="btn btn-primary h-100" type="submit"
                    style="width: 75px">조회</button>
                </form>
            </div>
        </div>
        
        <!-- 테이블 부분 -->
        <div class="mb-3">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">카테고리</th>
                        <th scope="col">브랜드</th>
                        <th scope="col">상품명</th>
                        <th scope="col">가격(원)</th>
                    </tr>
                </thead>
                <tbody id="product_data_Table"></tbody>
            </table>
        </div>

        <!-- 페이지네이션 부분 -->
        <nav aria-label="pagination">
            <ul class="pagination justify-content-center">
                <li class="page-item"><a class="page-link disabled" href="#">Previous</a></li>
                <li class="page-item"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">Next</a></li>
            </ul>
        </nav>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <!-- 외부에서 데이터를 가져온다고 가정하고 빈 테이블에 데이터들을 추가하는 자바스크립트 부분 -->
        <script>
            const product_data = [
                { category: "상의", brand: "Supreme", product: "슈프림 박스로고 후드티", price: "390,000" },
                { category: "하의", brand: "DIESEL", product: "디젤 트랙 팬츠", price: "188,000" },
                { category: "신발", brand: "Nike", product: "에어포스 1", price: "137,000" },
                { category: "패션잡화", brand: "Music&Goods", product: "빵빵이 키링", price: "29,000" },
            ];

            // 테이블 요소 가져오기
            const productTableBody = document.getElementById("product_data_Table");

            // 테이블 초기 데이터 로딩
            function loadTableData() {
                productTableBody.innerHTML = ""; // 기존 데이터 초기화
                product_data.forEach((item) => addProduct(item));
            }

            // 제품 추가 함수
            function addProduct(item) {
                const row = productTableBody.insertRow();
                row.insertCell(0).textContent = item.category;
                row.insertCell(1).textContent = item.brand;
                row.insertCell(2).textContent = item.product;
                row.insertCell(3).textContent = item.price;
            }

            // 초기 데이터 로드
            document.addEventListener("DOMContentLoaded", loadTableData);
        </script>
        <!-- 회원 가입 폼에 작성한 정보를 불러와서 처리하는 자바스크립트 부분 -->
        <script>
            document.getElementById("registerForm").addEventListener("submit", function(event) {
            event.preventDefault(); // 기본 폼 제출 방지
            
            // 사용자 입력 정보 가져오기
            const id = document.getElementById("id").value;
            const userPw1 = document.getElementById("pw1").value;
            const userPw2 = document.getElementById("pw2").value;
            const name = document.getElementById("name").value;
            const phone = document.getElementById("phone").value;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const email = document.getElementById("email").value;
            
            if(id.length < 6){
                alert("아이디가 너무 짧습니다. 6자 이상 입력해주세요")
                return
            }
            if((userPw1.length < 8)||(userPw1.length > 30)){
                alert("비밀번호는 8자 이상 30자 이하로 입력해야 합니다.")
                return
            }
            if(userPw1 !== userPw2){
                alert("비밀번호가 일치하지 않습니다.")
                return;
            }

            // 알림창으로 회원가입 정보 출력
            alert(
                `<회원가입 정보>\n` +
                `아이디: ${id}\n` +
                `이름: ${name}\n` +
                `전화번호: ${phone}\n` +
                `성별: ${gender}\n` +
                `이메일: ${email}`
            );

            // 모달 닫기
            const modalElement = document.getElementById("registerModal");
            const modalInstance = bootstrap.Modal.getInstance(modalElement);
            modalInstance.hide();

            // 폼 초기화
            document.getElementById("registerForm").reset();
        });
        </script>
    </body>
</html>